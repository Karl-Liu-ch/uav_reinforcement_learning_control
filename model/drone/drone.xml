<mujoco model="urdfdrone">
  <compiler autolimits="true" assetdir="assets/drone"/>

  <option timestep="0.01" density="1.225" viscosity="1.8e-5"/>

  <default>
    <default class="x2">
      <geom mass="0"/>
      <motor ctrlrange="0 13"/>
      <mesh scale="0.01 0.01 0.01"/>
      <default class="visual">
        <geom group="2" type="mesh" contype="0" conaffinity="0"/>
      </default>
      <default class="collision">
        <geom group="3" type="box"/>
        <default class="rotor">
          <geom type="ellipsoid" size=".13 .13 .01"/>
        </default>
      </default>
      <site group="5"/>
    </default>
  </default>


  <asset>
    <mesh name="base_link" content_type="model/stl" file="base_link.STL"/>
    <mesh name="prop1" content_type="model/stl" file="prop1.STL"/>
    <mesh name="prop2" content_type="model/stl" file="prop2.STL"/>
    <mesh name="prop3" content_type="model/stl" file="prop3.STL"/>
    <mesh name="prop4" content_type="model/stl" file="prop4.STL"/>
  </asset>

  <worldbody>
    <body name="base_link" pos="0 0 0">
      <joint name="base" type="free"/>
    <!-- <joint name="vertical_slide"
       type="slide"
       axis="0 0 1"
       range="-1 1"/> -->
      <!-- <joint name="row"
        type="hinge"
        axis="1 0 0"
        range="-3.14 3.14"
        damping="0.1"/>
      <joint name="pitch"
        type="hinge"
        axis="0 1 0"
        range="-3.14 3.14"
        damping="0.1"/> -->
      <inertial pos="0 0 0" mass="0.195" diaginertia="4.16e-4 4.23e-4 5.37e-4"/>
      <geom type="mesh" rgba="1 1 1 1" mesh="base_link"/>
      <site name="imu" pos="0 0 .02"/>
    <body name="prop1" pos="0.039799 -0.039799 0.0336">
      <inertial pos="0 0 -0.001" quat="0.5 0.5 -0.5 0.5" mass="0.00693608" diaginertia="3.75335e-06 1.87898e-06 1.87898e-06"/>
      <joint name="prop1" pos="0 0 0" axis="0 0 1"/>
      <geom type="mesh" rgba="1 1 1 1" mesh="prop1"/>
    </body>
    <body name="prop2" pos="-0.039799 -0.039799 0.032484">
      <inertial pos="0 0 0.000116422" quat="0.5 0.5 -0.5 0.5" mass="0.00693608" diaginertia="3.75335e-06 1.87898e-06 1.87898e-06"/>
      <joint name="prop2" pos="0 0 0" axis="0 0 1"/>
      <geom type="mesh" rgba="1 1 1 1" mesh="prop2"/>
    </body>
    <body name="prop3" pos="-0.039799 0.039799 0.033094">
      <inertial pos="0 0 -0.000494174" quat="0.5 0.5 -0.5 0.5" mass="0.00693608" diaginertia="3.75335e-06 1.87898e-06 1.87898e-06"/>
      <joint name="prop3" pos="0 0 0" axis="0 0 1"/>
      <geom type="mesh" rgba="1 1 1 1" mesh="prop3"/>
    </body>
    <body name="prop4" pos="0.039799 0.039799 0.0336">
      <inertial pos="0 0 -0.001" quat="0.5 0.5 -0.5 0.5" mass="0.00693608" diaginertia="3.75335e-06 1.87898e-06 1.87898e-06"/>
      <joint name="prop4" pos="0 0 0" axis="0 0 1"/>
      <geom type="mesh" rgba="1 1 1 1" mesh="prop4"/>
    </body>
      <site name="thrust1" pos="0.039799 -0.039799 0.0336"/>
      <site name="thrust2" pos="-0.039799 -0.039799 0.032484"/>
      <site name="thrust3" pos="-0.039799 0.039799 0.033094"/>
      <site name="thrust4" pos="0.039799 0.039799 0.0336"/>
    </body>
  </worldbody>
  <!-- Are the gears correct? Now its supposed to be as the real drone -->
  <actuator>
    <motor class="x2" name="thrust1" site="thrust1" gear="0 0 1 0 0  .0201"/>
    <motor class="x2" name="thrust2" site="thrust2" gear="0 0 1 0 0  -.0201"/>
    <motor class="x2" name="thrust3" site="thrust3" gear="0 0 1 0 0  .0201"/>
    <motor class="x2" name="thrust4" site="thrust4" gear="0 0 1 0 0 -.0201"/>
  </actuator>

  <sensor>
    <gyro name="body_gyro" site="imu"/>
    <accelerometer name="body_linacc" site="imu"/>
    <framequat name="body_quat" objtype="site" objname="imu"/>
  </sensor>

  <keyframe>
    <key name="hover" qpos=".3 1 0.2 0 0" ctrl="3.2495625 3.2495625 3.2495625 3.2495625"/>
    <!-- <key name="hover" qpos="0 0 .3 1 0 0 0" ctrl="3.2495625 3.2495625 3.2495625 3.2495625"/> -->
  </keyframe>
</mujoco>
